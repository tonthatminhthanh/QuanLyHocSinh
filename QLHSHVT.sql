USE QLHSHVT;

CREATE TABLE THAMSO
(
	MaThamSo VARCHAR(4) PRIMARY KEY,
	HocPhiToiThieu INT NOT NULL,
	HocPhiToiDa INT NOT NULL
)

CREATE TABLE GIAOVIEN
(
	MaGV VARCHAR(4) PRIMARY KEY,
	HoGV NVARCHAR(50) NOT NULL,
	TenGV NVARCHAR(50) NOT NULL,
	GioiTinh BIT NOT NULL,
)

CREATE TABLE NGANH
(
	MaNganh VARCHAR(4) PRIMARY KEY,
	TenNganh NVARCHAR(15) NOT NULL
)

CREATE TABLE KHOI
(
	MaKhoi VARCHAR(1) PRIMARY KEY,
	TenKhoi NVARCHAR(10) NOT NULL
)

INSERT INTO KHOI VALUES('A','Khối A')
INSERT INTO KHOI VALUES('B','Khối B')
INSERT INTO KHOI VALUES('C','Khối C')

CREATE TABLE LOP
(
	MaLop VARCHAR(2) PRIMARY KEY,
	MaNganh VARCHAR(4) NOT NULL,
	MaGVCN VARCHAR(4) REFERENCES GIAOVIEN(MaGV)
)

INSERT INTO LOP(MaLop,MaNganh) VALUES('A1','A') 
INSERT INTO LOP(MaLop,MaNganh) VALUES('A2','A')
INSERT INTO LOP(MaLop,MaNganh) VALUES('B1','B') 
INSERT INTO LOP(MaLop,MaNganh) VALUES('B2','B') 
INSERT INTO LOP(MaLop,MaNganh) VALUES('C1','C')
INSERT INTO LOP(MaLop,MaNganh) VALUES('C2','C') 

CREATE TABLE PHUHUYNH
(
	MaPH VARCHAR(6) PRIMARY KEY,
	HoPH NVARCHAR(50) NOT NULL,
	TenPH NVARCHAR(25) NOT NULL,
	SDT VARCHAR(10) NOT NULL,
	Email VARCHAR(100) NOT NULL,
	NgheNghiep NVARCHAR(25) NOT NULL
)

INSERT INTO PHUHUYNH VALUES('PH0001','Nguyen Thi','Quy','0123456789','ntq1955@gmail.com','Noi tro') 

CREATE TABLE HOCSINH
(
	MaHS VARCHAR(8) PRIMARY KEY,
	HoHS NVARCHAR(50) NOT NULL,
	TenHS NVARCHAR(50) NOT NULL,
	AnhHS NVARCHAR(100) NOT NULL,
	GioiTinh BIT NOT NULL,
	MaLop VARCHAR(2) REFERENCES LOP(MaLop) NOT NULL,
	MaPH VARCHAR(6) REFERENCES PHUHUYNH(MaPH) NOT NULL,
	NgaySinh DATE NOT NULL,
	SDT VARCHAR(10),
	Email VARCHAR(100),
	DiaChi NVARCHAR(100) NOT NULL,
	QueQuan NVARCHAR(100) NOT NULL,
	TonGiao NVARCHAR(25) NOT NULL,
	QuocTich NVARCHAR(100) NOT NULL
)

INSERT INTO HOCSINH VALUES('HS000001','Ton That Minh','Thanh','placeholder.png',1,'A1','PH0001','20020210','0325578154','thanh.ttm.62cntt@ntu.edu.vn','415/1 duong 2 thang 4','Dien Khanh','Phat giao','Viet Nam') 

CREATE TABLE MONHOC
(
	MaMH VARCHAR(5) PRIMARY KEY,
	TenMH NVARCHAR(25) NOT NULL,
	MaNganh VARCHAR(4) REFERENCES NGANH(MaNganh) NOT NULL,
	MaKhoi VARCHAR(1) REFERENCES KHOI(MaKhoi) NOT NULL
)

INSERT INTO NGANH VALUES('STEM',N'KH tự nhiên')
INSERT INTO MONHOC VALUES('TOANA',N'Toán A','STEM','A')
INSERT INTO MONHOC VALUES('TOANB',N'Toán B','STEM','B')
INSERT INTO MONHOC VALUES('TOANC',N'Toán C','STEM','C')
INSERT INTO MONHOC VALUES('PHYSA',N'Vật lý A','STEM','A')
INSERT INTO MONHOC VALUES('PHYSB',N'Vật lý B','STEM','B')
INSERT INTO MONHOC VALUES('PHYSC',N'Vật lý C','STEM','C')
INSERT INTO MONHOC VALUES('CHEMA',N'Hoá học A','STEM','A')
INSERT INTO MONHOC VALUES('CHEMB',N'Hoá học B','STEM','B')
INSERT INTO MONHOC VALUES('CHEMC',N'Hoá học C','STEM','C')
INSERT INTO NGANH VALUES('SSCI',N'KH xã hội')
INSERT INTO MONHOC VALUES('HISTA',N'Lịch sử A','SSCI','A')
INSERT INTO MONHOC VALUES('HISTB',N'Lịch sử B','SSCI','B')
INSERT INTO MONHOC VALUES('HISTC',N'Lịch sử C','SSCI','C')
INSERT INTO MONHOC VALUES('GEOGA',N'Địa lý A','SSCI','A')
INSERT INTO MONHOC VALUES('GEOGB',N'Địa lý B','SSCI','B')
INSERT INTO MONHOC VALUES('GEOGC',N'Địa lý C','SSCI','C')
INSERT INTO MONHOC VALUES('GDCDA',N'Giáo dục công dân A','SSCI','A')
INSERT INTO MONHOC VALUES('GDCDB',N'Giáo dục công dân B','SSCI','B')
INSERT INTO MONHOC VALUES('GDCDC',N'Giáo dục công dân C','SSCI','C')

CREATE TABLE NAMHOC
(
	MaNH VARCHAR(6) PRIMARY KEY,
	NamBatDau INT NOT NULL,
	NamKetThuc INT NOT NULL,
)

CREATE TABLE HOCPHI
(
	MaHocPhi VARCHAR(10) PRIMARY KEY NOT NULL,
	MaNH VARCHAR(6) REFERENCES NAMHOC(MaNH) NOT NULL,
	MaHS VARCHAR(8) REFERENCES HOCSINH(MaHS) NOT NULL,
	DONGIA INT NOT NULL,
	NgayThongBao DATE NOT NULL
)

CREATE TABLE CTHP
(
	MaCTHP VARCHAR(10) PRIMARY KEY,
	MaHS VARCHAR(8) REFERENCES HOCSINH(MaHS) NOT NULL,
	MaMH VARCHAR(5) REFERENCES MONHOC(MaMH) NOT NULL,
	MaNH VARCHAR(6) REFERENCES NAMHOC(MaNH) NOT NULL,
	MaGV VARCHAR(4) REFERENCES GIAOVIEN(MaGV) NOT NULL
)

CREATE TABLE KETQUA
(
	MaKQ VARCHAR(10) PRIMARY KEY,
	MaCTHP VARCHAR(10) REFERENCES CTHP(MaCTHP),
	DiemQT FLOAT NOT NULL,
	Diem1T FLOAT NOT NULL,
	DiemKT FLOAT NOT NULL,
	DiemTB FLOAT NOT NULL
)

